<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="../css/reveal.css">
    <link rel="stylesheet" href="../css/theme/tdd.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../lib/css/atom-one-dark.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? '../css/print/pdf.css' : '../css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section class="deck-slide" data-background="#E5F3F9">
            <h1>TDD</h1>
            <h3>Test Driven Development</h3>
        </section>
        <section class="about-slide">
            <h2>Über uns</h2>
            <div>
                <div class="about">
                    <img class="profile" width="250" height="250" alt="Marius" src="../img/marius.png">
                    <h3>Marius Reusch</h3>
                    <h3><a href="">Software Engineer @ Zühlke</a></h3>
                    <img height="90px" src="../img/zuehlke.png">
                </div>
                <div class="about">
                    <img class="profile" width="250" height="250" alt="Joachim" src="../img/joachim.jpg">
                    <h3>Joachim Prinzbach</h3>
                    <h3><a href="">Software Engineer @ Baloise</a></h3>
                    <img height="90px" src="../img/baloise.png">
                </div>
            </div>
        </section>
        <section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h2><span></span>Einstieg als<span></span></h2>
                <h1>Software Engineer</h1>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Share Knowledge</h1>
                <h2><span></span>es bringt dich selbst weiter<span></span></h2>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Häufiges Feedback</h1>
                <h2><span></span>Von anderen, für andere<span></span></h2>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Team</h1>
                <h2><span></span>toll ein anderer...<span></span></h2>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>aus</h1>
                <h1>probieren</h1>
                <h2><span></span>wer nicht probiert...<span></span></h2>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Durst</h1>
                <h2><span></span>nach Wissen<span></span></h2>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Pairing</h1>
                <h2><span></span>und Code Reviews<span></span></h2>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Agile</h1>
                <h2><span></span>Scrum und so<span></span></h2>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>CI / CD</h1>
                <h2><span></span>Alles automatisiert - und continuous<span></span></h2>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>VCS</h1>
                <h2><span></span>GIT oder SVN - hab es unter Kontrolle<span></span></h2>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Shortcuts</h1>
                <h2><span></span>learn the f***ing shortcuts!<span></span></h2>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Testing</h1>
                <h2><span></span>und vor allem: TDD<span></span></h2>
            </section>
            <section>
                <h2>Recap</h2>
                <ul>
                    <li>Automatisierung</li>
                    <li>Pairing und Teamwork</li>
                    <li>Tools im Griff haben</li>
                    <li>Testing</li>
                    <li>sich weiterentwickeln</li>
                </ul>
            </section>
        </section>
        <section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Testing Allgemein</h1>
            </section>
            <section>
                <h3>Warum Testing? Warum Automatisierung?</h3>
                <ul>
                    <li>Was einmal lief soll nicht wieder kaputt gehen</li>
                    <li>Testing ist Bestandteil professioneller Software Entwicklung</li>
                    <li>Ein Feature läuft nur dann, wenn es getestet ist</li>
                    <li>manuelles Ausführen von repetitiven Tägigkeiten ist... LANGWEILIG</li>
                </ul>
            </section>
            <section>
                <h3>Testing spart Geld</h3>
                <img src="../img/bugs-prices.png" width="130%">
            </section>
            <section>
                <h3>Testing Pyramide</h3>
                <img src="../img/pyramide.png">
            </section>
            <section>
                <h3>Testing Pyramide (Theorie)</h3>
                <ul>
                    <li><span class="warn">Integration Tests</span> testen das Zusammenspiel mehrerer Teile und externer Ressourcen (z.B. Datenbank)</li>
                    <li><span class="warn">UI Tests</span> testen den View Layer, werden nicht mit dem realen Backend ausgeführt </li>
                    <li><span class="warn">E2E Tests</span> testen die Applikation vom UI bis zur Datenbank, in einem Benutzer-Flow</li>
                    <li><span class="warn">Manual Tests</span> werden von Testern oder Benutzern manuell durchgeführt</li>
                </ul>
            </section>
            <section>
                <h3>Unit Tests</h3>
                <ul>
                    <li>testen eine Unit of Work: eine Klasse, oder auch mehrere Klassen als Verbund</li>
                    <li>sind sehr schnell und automatisch ausführbar - werden vor jedem Commit ausgeführt</li>
                    <li>werden rein in memory ausgeführt, kein Zugriff auf Dateisystem oder Datenbank</li>
                    <li>werden von den Entwicklern mit den gewohnten Tools (und einer Unit-Testing Library) geschrieben</li>
                </ul>
            </section>
            <section>
                <h3>JUnit</h3>
                <ul>
                    <li>JUnit ist ein Unit-Test Framework</li>
                    <li>ursprünglich von Kent Beck und Erich Gamma entwickelt</li>
                    <li>bietet eine API zum Annotieren von Tests: <span class="code">@Test</span></li>
                    <li>bietet statische Methoden um die Ergebnisse mit den Erwartungen zu überprüfen: <span class="code">org.junit.Assert.*</span></li>
                    <li>ist Open Source und kostenlos verfügbar: <a href="http://junit.org/junit4/">JUnit Projektseite</a></li>
                </ul>
            </section>
        </section>

        <section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>TDD</h1>
            </section>
            <section>
                <h3>Ursprung</h3>
                <ul>
                    <li>xTreme Programming</li>
                </ul>
            </section>
            <section>
                <h3>Warum TDD?</h3>
                <ul>
                    <li>Schnelles Feedback</li>
                    <li>Du kannst keinen schwer testbaren Code schreiben, weil du die Tests zuerst schreibst.</li>
                    <li>It's fun!</li>
                </ul>
            </section>
            <section>
                <h3>Vereinfachter TDD Cycle</h3>
                <img src="../img/simple_tdd_cycle.png">
            </section>
            <section>
                <h3>Drei Möglichkeiten um "grün" zu werden</h3>
                <ul>
                    <li>Fake it</li>
                    <li>Implementiere das Offensichtliche</li>
                    <li>Schreibe mehrere Tests, wenn du unsicher bist!</li>
                </ul>
            </section>
            <section>
                <h3>Beginne so simpel wie möglich!</h3>
                <ul>
                    <li>Nutze ggf. sogar statische Werte</li>
                    <li>Schreibe keinen Code für Anforderungen, die irgendwann mal auftauchen könnten</li>
                    <li><b>Löse dich davon, die Implementation vorauszuahnen</b></li>
                    <li>In erster Linie geht es darum den Test grün zu bekommen (red / green cycle)</li>
                </ul>
            </section>
        </section>

        <section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Projekt Setup</h1>
            </section>
            <section>
                <h3>Auschecken und dummyTest ausführen</h3>
                <p>(Bild einfügen) -> welches Bild? xD</p>
            </section>
            <section>
                <h3>Maven Projekt Struktur</h3>
                <p>Industrieweiter Standard</p>
                <ul>
                    <li><span class="code">src/main/java</span> => Source Dateien</li>
                    <li><span class="code">src/test/java</span> => Test Dateien</li>
                    <li>Name der Testklasse = Zu testende Klasse + "Test"</li>
                    <li>StringBuilder => StringBuilderTest</li>
                </ul>
            </section>
            <section>
                <h3>Dependencies</h3>
                <ul>
                    <li><span class="code">JUnit</span></li>
                    <li><span class="code">Mockito</span> - Framework um Abhängigkeiten durch eine Mock Implementation zu ersetzen</li>
                </ul>
            </section>
            <section>
                <h3>Failure / Success / Error</h3>
                <ul>
                    <li><span class="code">Grün</span> bedeutet, dass die Testfälle funktionieren, <span class="code">keine unerwarteten Exceptions</span> auftreten und alle <span class="code">Assertions den Erwartungen entsprechen</span></li>
                    <li><span class="warn">Rot</span> bedeutet, dass entweder eine <span class="warn">unerwartete Exception</span> aufgetreten ist (Error) oder eine <span class="warn">Assertion nicht den Erwartungen entspricht</span> (Failure)</li>
                </ul>
            </section>
            <section>
                <h3>@Test</h3>
                <ul>
                    <li>frühere Version: alle Methoden mussten mit test beginnen, die Testklasse musste <span class="code">TestCase</span> erweitern</li>
                    <li>seit JUnit4 werden Test-Methoden mit der <span class="code">@Test</span> Annotation versehen, es muss nicht mehr von <span class="code">TestCase</span> geerbt werden</li>
                    <li>die mit <span class="code">@Test</span> annotierten Methoden müssen <span class="code">public void</span> sein</li>
                </ul>
            </section>
            <section>
                <h3>Assert</h3>
                <ul>
                    <li>überprüfen der Erwartungen</li>
                    <li>ist eine Erwartung nicht korrekt, schlägt ein Test fehl</li>
                    <li><span class="code">Assert.assertEquals(expected, actual);</span></li>
                    <li><span class="code">Assert.assertEquals(message, expected, actual);</span></li>
                </ul>
            </section>
            <section>
                <h3>Ausführen von Tests</h3>
                <h4>Tests können verschieden ausgeführt werden</h4>
                <ul>
                    <li>Alle pro Package</li>
                    <li>Alle pro Klasse</li>
                    <li>ein einzelner Test</li>
                </ul>
            </section>
        </section>

        <section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Projektvorstellung</h1>
                <h2><span></span>Grade Calculator<span></span></h2>
            </section>
            <section>
                <h3>1. Anforderung</h3>
                <ul>
                    <li>Der Calculator erhält eine beliebige ganzzahlige Note als Parameter und soll den <span
                            class="code">Durchschnitt dieser Note</span>
                        berechnen.
                    </li>
                    <li>Überlege dir einen sinnvollen Namen für die Testmethode(n), starte mit möglichst einfachen
                        Testfällen
                    </li>
                </ul>
                <pre>
                    <code class="hljs java" data-trim contenteditable>
                        @Test
                        public void sinnvollerName() throws Exception {
                            final Person person = new Person("Hans", "Muster");

                            final String fullname = person.getFullname();

                            Assert.assertEquals("Hans Muster", fullname);
                        }
					</code>
                </pre>
            </section>
            <section>
                <h3>1. Anforderung (Recap)</h3>
                <ul>
                    <li>Wieviel Tests habt ihr geschrieben?</li>
                    <li>Warum?</li>
                    <li>TDD Fanatiker Beispiel</li>
                </ul>
            </section>
            <section>
                <h3>2. Anforderung</h3>
                <ul>
                    <li>Der Calculator erhält zwei Noten und soll den Durchschnitt dieser Noten berechnen.</li>
                    <li>Überprüfe die Anforderung mit geeigneten Testfällen</li>
                    <li>Überlege dir erneut einen sinnvollen Namen für die Testmethode(n) und bedenke / überarbeite die
                        Namen der vorhandenen Testmethoden
                    </li>
                </ul>
            </section>
            <section>
                <h3>2. Anforderung (Recap)</h3>
                <ul>
                    <li>Wieiviele <span class="code">Assert Statements</span> habt ihr in einer Testmethode?
                    </li>
                    <li>Wie sind Beispiele für eure Testnamen?</li>
                    <li>Exkurs: Naming Patterns für Testmethoden</li>
                </ul>
            </section>
            <section>
                <h3>Exkurs: Naming Patterns für Testmethoden</h3>
                <h4>Welches Naming findet ihr am sinnvollsten?</h4>
                <ul>
                    <li>testCalc1</li>
                    <li>oneGrade_calculateAverage_returnsInputGrade</li>
                    <li>calculateAverageOfOneGrade</li>
                    <li>testAverageCalculationForOneGradeAndShouldReturnTheAverageOfThatGrade</li>
                    <li>TODO: research</li>
                    <li>...</li>
                </ul>
            </section>
            <section>
                <h3>Exkurs: Naming Patterns und Strukturen für Testmethoden</h3>
                <ul>
                    <li><a href="http://osherove.com/blog/2005/4/3/naming-standards-for-unit-tests.html">Roy
                        Osherove</a></li>
                    <li><span class="code">methodUnderTest_inputParams_expectedResult</span></li>
                </ul>
                <pre>
                    <code class="hljs java" data-trim contenteditable>
                        @Test
                        public void getFullName_firstLastName_fullName() {
                            final Person person = new Person("Hans", "Muster");

                            final String fullname = person.getFullname();

                            Assert.assertEquals("Hans Muster", fullname);
                        }
					</code>
                </pre>
            </section>
            <section>
                <h3>3. Anforderung</h3>
                <ul>
                    <li>Der Calculator erhält drei Noten und soll den Durchschnitt dieser Noten berechnen.</li>
                    <li>Überprüfe die Vermutungen mit einer Assertion</li>
                    <li>Verwende ein sinnvolles Naming Pattern für deine Testmethode(n)</li>
                </ul>
            </section>
            <section>
                <h3>3. Anforderung (Recap)</h3>
                <ul>
                    <li>Was fällt euch an euren Implementation auf?</li>
                    <li>Exkurs: Erweiterung des TDD Cycles - Refactoring</li>
                </ul>
            </section>
            <section>
                <h3>Exkurs: Erweiterung des TDD Cycles</h3>
                <img src="../img/tdd_cycle.png">
            </section>
            <section>
                <h3>Exkurs: Erweiterung des TDD Cycles</h3>
                <ul>
                    <li>do it - refactor</li>
                    <li>parallel change</li>
                </ul>
            </section>


            <section>
                <h3>4. Anforderung - eine gewichtete Note</h3>
                <ul>
                    <li>Erstelle Testfälle für eine Gewichtung der Noten mit ECTS</li>
                    <li>starte mit einem Testfall für eine Note</li>
                    <li>Erstelle weitere Testfälle um ein Pattern zu erkennen</li>
                    <li>Löse die Anforderung so einfach wie möglich</li>
                    <li>Führe ein Refactoring durch wenn die Testfälle grün sind</li>
                    <li><span class="warn">Hint:</span> Eventuell bietet es sich an, zusammenhängende Werte in einem
                        Objekt zu kapseln
                    </li>
                </ul>
            </section>
            <section>
                <h3>4. Anforderung (Recap)</h3>
                <ul>
                    <li>code snippet</li>
                    <li>Arrange / Act / Assert</li>
                </ul>
            </section>
            <section>
                <h3>5. Anforderung</h3>
                <ul>
                    <li>Berechne den Durchschnitt über eine <span class="code">Menge von Notenspiegeln</span>, aber nur
                        über die, deren Studenten aktuell im <span class="code">5. Semester</span> eingeschrieben sind.
                    </li>
                    <li><span class="warn">Hint:</span> Ein Notenspiegel ist eine Menge von gewichteten Noten</li>
                    <li><span class="warn">Wichtig:</span> TDD erfodert das selbständige Unterteilen von Anforderungen
                        in kleine Häppchen
                    </li>
                    <li>Bisher haben wir das für euch übernommen. Jetzt seid ihr dran!</li>
                </ul>
            </section>

            <section>
                <h3>x. Anforderung</h3>
                <ul>
                    <li>Es dürfen nur gültige Noten die an der HFU bekannt sind in den Rechner reingegeben werden.</li>
                    <li>Wenn eine ungültige Note erzeugt wird soll eine <span
                            class="code">IllegalArgumentException</span> geworfen werden.
                    </li>
                    <li>Für heute gehen wir davon aus, dass Noten dann gültig sind wenn sie >= 1.0 und kleiner gleich
                        5.0 sind
                    </li>
                    <li><span class="code">@Test(expected = IllegalArgumentException.class)</span></li>
                    <li>Überprüfe die Vermutungen mit einer Assertion</li>
                </ul>
            </section>
            <section>
                <h3>x. Anforderung (Recap)</h3>
                <ul>
                    <li></li>
                </ul>
            </section>
            <section>
                <h3>6. Anforderunge - mehrere gewichtete Noten</h3>
                <ul>
                    <li>Erstelle einen Test der den Durchschnitt für mehrere Noten berechnet</li>
                    <li>Eine Note 2.7 mit 3 ECTS und eine Note 1.3 mit 6 ECTS</li>
                    <li><span class="warn">Hint:</span> Mache dir Gedanken über potentielle Objekte</li>
                </ul>
            </section>
            <section>
                <h3>6. Anforderung (Recap)</h3>
                <ul>
                    <li>Objekte... Primitive Obsession...</li>
                </ul>
            </section>
            <section>
                <h3>7. Anforderung</h3>
                <ul>
                    <li>Stelle sicher, dass nur ganzzahlige Credit Points zwischen 1 und 60 ausgewählt werden können
                    </li>
                </ul>
            </section>

            <section>
                <h3>Exkurs: Test Coverage</h3>
                <p>Versuche die Berechnungslogik zu zerstören, ohne dass ein Test bricht.</p>
            </section>
            <section>
                <h3>Exkurs: Test Coverage</h3>
                <p>Hier noch Theorie</p>
            </section>
        </section>

        <section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Testbarer Code & Dependencies</h1>
            </section>
        </section>

        <section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h1>Wrap Up</h1>
                <h2><span></span>TDD<span></span></h2>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h3>Ein paar Gedanken zu TDD</h3>
                <ul>
                    <li>Seid pragamatisch!</li>
                    <li>TDD is nicht immer sinnvoll.</li>
                </ul>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h3>Gute Quellen zum Nachschlagen / Ausprobieren (1/2)</h3>
                <ul>
                    <li><a href="https://www.codewars.com/users/sign_in">Codewars</a></li>
                    <li><a href="https://de.udacity.com/">Udacity</a></li>
                    <li><a href="http://www.frankwestphal.de/ftp/Westphal_Testgetriebene_Entwicklung.pdf">Frank Westphal - Testgetriebene Entwicklung</a></li>
                    <li><a href="https://martinfowler.com/bliki/ParallelChange.html">Danilo Sato - Parallel Change (martinfowler.com/)</a></li>
                    <li><a href="https://sourcemaking.com/refactoring">Code Smells and Refactoring Techniques</a></li>
                </ul>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h3>Gute Quellen zum Nachschlagen / Ausprobieren (2/2)</h3>
                <ul>
                    <li><a href="https://www.thoughtworks.com/de/insights/blog/composition-vs-inheritance-how-choose">Composition vs. Inheritance</a></li>
                    <li><a href="http://osherove.com/blog/2005/4/3/naming-standards-for-unit-tests.html">Naming Standard for Unit Tests nach Osherove</a></li>
                    <li><a href="https://www.youtube.com/watch?v=qkblc5WRn-U">Rober C. Marting - Three laws of TDD</a></li>
                </ul>
            </section>
            <section class="sub-section-slide" data-background="#E5F3F9">
                <h3>Literatur Empfehlungen</h3>
                <ul>
                    <li>Frank Westphal: <span class="hightlighted">"Testgetriebene Entwickung mit JUnit & FIT: Wie Software änderbar bleibt"</span></li>
                    <li>Kent Beck: <span class="hightlighted">"Test Driven Development: By Example"</span></li>
                    <li>Robert C. Martin: <span class="hightlighted">"Clean Code - Refactoring, Patterns, Testen und Techniken für sauberen Code"</span></li>
                    <li>Eric Evans: <span class="hightlighted">"Domain-Driven Design: Tackling Complexity in the Heart of Software"</span></li>
                </ul>
            </section>
        </section>

    </div>
</div>

<script src="../lib/js/head.min.js"></script>
<script src="../js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,
        pubnubRemoteControl: {
            subscribeKey: 'sub-c-2e12c108-13db-11e7-aca9-02ee2ddab7fe',
            publishKey: 'pub-c-59089c7e-6675-454c-9fc4-32a1ecdfad51',
            inputChannel: 'input',
            outputChannel: 'output'
        },

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {src: '../plugin/markdown/marked.js'},
            {src: '../plugin/markdown/markdown.js'},
            {src: 'https://cdn.pubnub.com/sdk/javascript/pubnub.4.4.0.min.js', async: true},
            {src: '../plugin/pubnub-remote-control/pubnub-remote-control.js', async: true},
            {src: '../plugin/notes/notes.js', async: true},
            {
                src: '../plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            }
        ]
    });
</script>
</body>
</html>
